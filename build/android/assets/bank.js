function doBank(){bankData=[];var e=Ti.UI.createTableViewRow({hasDetail:!0}),t=Titanium.UI.createLabel({text:"Bank        Account No.             Del",left:5,font:{fontSize:22,fontWeight:"bold"},color:"blue",width:"auto"});e.add(t),bankData.push(e);var a=db.execute("SELECT * FROM MyDB");for(bankView.data="";a.isValidRow();){var i=Titanium.UI.createTableViewRow({className:"row",height:"40",width:"90%",title:a.fieldByName("name"),id:a.fieldByName("id"),color:"#fffced",backgroundColor:"#fffced"}),o=Titanium.UI.createLabel({text:a.fieldByName("name"),width:"40%",height:"auto",top:5,left:10,font:{fontFamily:"AmericanTypewriter",fontSize:20},minimumFontSize:15,color:"navy",textAlign:"left"}),n=Titanium.UI.createLabel({text:a.fieldByName("account"),width:"40%",top:5,font:{fontFamily:"HelveticaNeue",fontSize:20},color:"blue",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});checkbox=Ti.UI.createSwitch({style:Ti.UI.Android.SWITCH_STYLE_CHECKBOX,value:!1,height:20,color:"blue",top:5,right:20,borderColor:"blue",borderWidth:2,borderRadius:5,backgroundColor:"#b1b1b1",item_type:"CHECKBOX",id:a.fieldByName("id")}),i.add(o),i.add(n),i.add(checkbox),bankData.push(i),a.next()}bankView.data=bankData,a.close(),resetViews(),win.add(bankView),win.add(bview)}var bankView=Ti.UI.createTableView({editable:!0,height:Ti.UI.SIZE,top:"10%",bottom:"20%",left:5,right:5,separatorColor:"#000",font:{fontSize:20,fontWeight:"bold"}});bankView.addEventListener("click",function(e){"CHECKBOX"==e.source.item_type&&(0==e.source.value?(deleteID=e.source.id,alert("UnDelete: "+deleteID)):(deleteID=e.source.id,alert("Delete: "+deleteID),db.execute("DELETE FROM MyDB WHERE id=?",deleteID),doBank()))});var bview=Ti.UI.createView({font:{fontSize:20,fontWeight:"bold"},color:"blue",textAlign:"left",editable:!0,top:"90%",left:5,right:5}),baddBtn=Titanium.UI.createButton({top:"5%",left:"2%",width:100,height:30,title:"Add",borderRadius:20,id:"A",backgroundColor:"green",backgroundSelectedColor:"blue",opacity:.5}),bHelpBtn=Titanium.UI.createButton({top:"5%",left:"40%",width:100,height:30,title:"Help",borderRadius:20,id:"D",backgroundColor:"green",backgroundSelectedColor:"blue",opacity:.5}),bbackBtn=Titanium.UI.createButton({top:"5%",left:"75%",width:100,height:30,title:"Back",borderRadius:20,id:"D",backgroundColor:"green",backgroundSelectedColor:"blue",opacity:.5});bview.add(baddBtn),bview.add(bbackBtn),bview.add(bHelpBtn),baddBtn.addEventListener("click",function(e){resetViews(),win.add(addBankView)}),bbackBtn.addEventListener("click",function(e){resetViews(),win.add(myTableView),win.add(view)}),bHelpBtn.addEventListener("click",function(e){});var addBankView=Ti.UI.createView({editable:!0,height:Ti.UI.SIZE,top:"10%",left:5,right:5}),bankLabel=Titanium.UI.createLabel({left:"2%",top:"5%",text:"Bank:",textAlign:"center",width:"30%",height:40,backgroundColor:"yellow",color:"blue",font:{fontSize:20,fontFamily:"Helvetica Neue"},opacity:.5}),bankText=Titanium.UI.createTextField({color:"blue",font:{fontSize:16,fontFamily:"Helvetica Neue"},textAlign:"left",width:"60%",height:40,autocorrect:!1,top:"5%",left:"35%",borderRadius:"10",borderWidth:"1",borderColor:"blue",backgroundColor:"transparent"}),accLabel=Titanium.UI.createLabel({left:"2%",top:"25%",text:"Account No:",textAlign:"center",width:"30%",height:40,font:{fontSize:20,fontFamily:"Helvetica Neue"},color:"blue",backgroundColor:"yellow",backgroundSelectedColor:"green",opacity:.5}),accNo=Titanium.UI.createTextField({color:"blue",font:{fontSize:16,fontFamily:"Helvetica Neue"},textAlign:"left",width:"60%",height:40,autocorrect:!1,top:"25%",left:"35%",borderRadius:"10",borderWidth:"1",borderColor:"blue",backgroundColor:"transparent"}),addBankBtn=Titanium.UI.createButton({left:"25%",top:"55%",title:"Add",id:"AB",font:{fontSize:20,fontWeight:"bold"},color:"blue",height:50,width:100,borderRadius:"10",borderWidth:"1",borderColor:"blue",backgroundColor:"green",backgroundSelectedColor:"blue",opacity:.3}),cancelBankBtn=Titanium.UI.createButton({left:"55%",top:"55%",title:"Cancel",id:"AB",font:{fontSize:20,fontWeight:"bold"},color:"blue",height:50,width:100,borderRadius:"10",borderWidth:"1",borderColor:"blue",backgroundColor:"yellow",backgroundSelectedColor:"blue",opacity:.3});addBankView.add(bankLabel),addBankView.add(bankText),addBankView.add(accLabel),addBankView.add(accNo),addBankView.add(addBankBtn),addBankView.add(cancelBankBtn),addBankBtn.addEventListener("click",function(e){alert("Adding: "+bankText.value),db.execute("INSERT INTO MyDB (name, account) VALUES(?,?)",bankText.value,accNo.value),doBank()});