function resetViews(){win.remove(myTableView),win.remove(view),win.remove(addBankView),win.remove(bankView),win.remove(bview)}Titanium.UI.setBackgroundColor("#000");var db=Ti.Database.open("MyDB");db.execute("CREATE TABLE IF NOT EXISTS MyDB (id INTEGER PRIMARY KEY, name TEXT, account TEXT)");var win=Titanium.UI.createWindow({title:"Personal Data",backgroundColor:"#fff",exitOnClose:!0});Ti.include("bank.js");var view=Ti.UI.createView({font:{fontSize:20,fontWeight:"bold"},color:"blue",textAlign:"left",editable:!0,top:"90%",left:5,right:5}),delBtn=Titanium.UI.createButton({top:"5%",left:"2%",width:100,height:30,title:"Wipe All",borderRadius:20,id:"D",backgroundColor:"red",backgroundSelectedColor:"blue",opacity:.5}),backBtn=Titanium.UI.createButton({top:"5%",left:"75%",width:100,height:30,title:"Back",borderRadius:20,id:"D",backgroundColor:"red",backgroundSelectedColor:"blue",opacity:.5});view.add(delBtn),view.add(backBtn),delBtn.addEventListener("click",function(e){db.execute("DROP TABLE IF EXISTS MyDB"),alert("DB purged of all data"),db.execute("CREATE TABLE IF NOT EXISTS MyDB (id INTEGER PRIMARY KEY, name TEXT, account TEXT)")}),backBtn.addEventListener("click",function(e){resetViews(),win.add(myTableView),win.add(view)});for(var data=[],categories=["Aadhar","PAN","Bank A/C","Locker A/C","Credit Cards","Policies"],i=0;i<categories.length;i++){var row=Ti.UI.createTableViewRow({className:categories[i],rowIndex:i,height:60,hasDetail:!0}),label=Titanium.UI.createLabel({text:categories[i],left:5,font:{fontSize:20,fontWeight:"bold"},color:"blue",width:200});row.add(label),data.push(row)}var myTableView=Titanium.UI.createTableView({data:data,separatorColor:"#000",headerTitle:"Categories:",borderRadius:5,left:"3%",right:"3%",top:"5%",bottom:"10%"});myTableView.addEventListener("click",function(e){"Bank A/C"==e.rowData.className?(label.blur(),doBank()):"Locker A/C"==e.rowData.className&&label.blur()}),win.add(myTableView),win.add(view),win.open(),function(){var e=require("ti.cloud"),i="production"===Ti.App.deployType.toLowerCase()?"production":"development",t=Ti.App.Properties.getString("acs-username-"+i),a=Ti.App.Properties.getString("acs-password-"+i);i&&t&&a&&e.Users.login({login:t,password:a},function(e){"development"===i&&(Ti.API.info("ACS Login Results for environment `"+i+"`:"),Ti.API.info(e)),e&&e.success&&e.users&&e.users.length?Ti.App.fireEvent("login.success",e.users[0],i):Ti.App.fireEvent("login.failed",e,i)})}();